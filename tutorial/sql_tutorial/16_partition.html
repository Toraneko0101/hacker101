
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="15_window.html">
      
      
        <link rel="next" href="17_bigdata.html">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>(クイズ16:Partition) - Hacker101</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M6 13h8l-3.5 3.5 1.42 1.42L17.84 12l-5.92-5.92L10.5 7.5 14 11H6v2Z"/></svg>');}</style>


    
    
      
        <script src="https://unpkg.com/iframe-worker/shim"></script>
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7Ccoursera+new:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"coursera new"}</style>
      
    
    
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="../../css/custom.css">
    
      <link rel="stylesheet" href="../../css/prism.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#16partition" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../.." title="Hacker101" class="md-header__button md-logo" aria-label="Hacker101" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hacker101
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              (クイズ16:Partition)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hacker101" class="md-nav__button md-logo" aria-label="Hacker101" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Hacker101
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../book_list.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24's積ん読/Webコンテンツリスト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Aws tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Aws tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws_tutorial/01_introduction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(AWSCLI概要)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Linux tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux_tutorial/00_intro.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux_tutorial/01_command.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(1:コマンド)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux_tutorial/02_tool.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(2:ツール)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Math tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Math tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../math_tutorial/00_intro.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数学の学習記録(主に証明等)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4_2" >
        
          
          <label class="md-nav__link" for="__nav_1_4_2" id="__nav_1_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gun
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4_2">
            <span class="md-nav__icon md-icon"></span>
            Gun
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../math_tutorial/gun/01_set.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(1:集合)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../math_tutorial/gun/02_mapping.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(2: 写像)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../math_tutorial/gun/03_group.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(3:群)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    React tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            React tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/000_hazimeni.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(0:初めに)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/001_component.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    00-Component
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/01_fragments.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01-Fragment(<>について)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/02_jsx.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02-JSX
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/03_pure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03-純関数とReact
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/04_tree.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04-コンポーネントとツリー構造
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/05_event.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05-イベント
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/06_zyoutai.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06-注意点(状態の保存と階層について)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/07_state_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07-Stateの基本
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/08_render.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08-コンポーネントが画面に表示されるまで
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/09_dom.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09-仮想DOMについて理解する
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/10_state_snap.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-stateが更新されるタイミング
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/11_state_update.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11-stateを1回のイベントで複数回更新
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/12_state_obj.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12-setState(object)の注意点
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/13_state_array.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13-setState(array)の注意点
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5_16" >
        
          
          <label class="md-nav__link" for="__nav_1_5_16" id="__nav_1_5_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Hooks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_5_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5_16">
            <span class="md-nav__icon md-icon"></span>
            Hooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/hooks/01_useState.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    useState
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/hooks/02_useEffect.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    useEffect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/hooks/03_useContext.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    useContext
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/hooks/04_useReducer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    useReducer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/hooks/05_useCallback.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    useCallback + React.memo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/hooks/06_useMemo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    useMemo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/hooks/07_useRef.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    useRef
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/hooks/08_useId.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    useId
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/hooks/09_useSyncExternalStore.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    useSyncExternalStore
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/hooks/10_useTransition.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    useTransiton
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react_tutorial/hooks/hook.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hook全般
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" checked>
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sql tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            Sql tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="00_intro.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="01_introduction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(1:導入)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="02_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(2:基本)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="03_phrase.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(3:○○句)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="04_join.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(4:結合)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="05_set.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(5:集合)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="06_dataOpe.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(6:データ操作)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="07_group.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(7:集計)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="08_subquery.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(8:サブクエリ)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="09_outerjoin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(9:外部結合)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="10_case.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(10:条件)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="11_transaction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(11:複数反映)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="12_index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(12:インデックス)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="13_view.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(13:ビュー)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="14_meta.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(14:メタ&動的)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="15_window.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(15:解析関数)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    (クイズ16:Partition)
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="16_partition.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    (クイズ16:Partition)
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#q137" class="md-nav__link">
    <span class="md-ellipsis">
      Q137 パーティショニングについて知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q137 パーティショニングについて知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#db" class="md-nav__link">
    <span class="md-ellipsis">
      年々肥大化するDB
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db_1" class="md-nav__link">
    <span class="md-ellipsis">
      DBが大きくなりすぎるとどうなるか
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      パーティショニングとは
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      パーティショニング概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      同じでなければならないものと違っていてもいいもの
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-engine" class="md-nav__link">
    <span class="md-ellipsis">
      パーティショニング不可能なStorage Engine
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q138" class="md-nav__link">
    <span class="md-ellipsis">
      Q138 テーブルやインデックスの分割手法について知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q138 テーブルやインデックスの分割手法について知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      水平分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      垂直分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      グローバル/ローカルインデックス
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q139" class="md-nav__link">
    <span class="md-ellipsis">
      Q139 範囲分割を知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q139 範囲分割を知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      範囲分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      分割したテーブルのメタデータを見る
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter-table" class="md-nav__link">
    <span class="md-ellipsis">
      ALTER TABLEを使って特定のパーティションを更に分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      行を追加して確認してみる
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q140" class="md-nav__link">
    <span class="md-ellipsis">
      Q140 リスト分割について知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q140 リスト分割について知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      リスト分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      パーティション外の値を指定した場合
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ignore" class="md-nav__link">
    <span class="md-ellipsis">
      IGNOREを使って挿入した場合
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q141-range-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Q141 RANGE COLUMNSによって知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q141 RANGE COLUMNSによって知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#range" class="md-nav__link">
    <span class="md-ellipsis">
      RANGEとの差異
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      タプル単位での比較
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maxvalue" class="md-nav__link">
    <span class="md-ellipsis">
      MAXVALUEの使い方
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range-columns" class="md-nav__link">
    <span class="md-ellipsis">
      よくあるRANGE COLUMNSの例(時間型)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q142" class="md-nav__link">
    <span class="md-ellipsis">
      Q142 ハッシュ分割について知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q142 ハッシュ分割について知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      ハッシュ分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      ハッシュ分割の例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      列の種類が少ないと役に立たないわけ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q143" class="md-nav__link">
    <span class="md-ellipsis">
      Q143 複合分割について知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q143 複合分割について知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      異なる種類の分割方式を使う
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      制限
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      サブパーティショニングの例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1つのサブパーティションからデータを取得する
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q144" class="md-nav__link">
    <span class="md-ellipsis">
      Q144 その他の分割法について知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q144 その他の分割法について知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      線形ハッシュ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key" class="md-nav__link">
    <span class="md-ellipsis">
      KEY
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      線形キーを用いることもできる
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q145-null" class="md-nav__link">
    <span class="md-ellipsis">
      Q145 パーティショニングでNULLを用いたときの挙動を知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q145 パーティショニングでNULLを用いたときの挙動を知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#null" class="md-nav__link">
    <span class="md-ellipsis">
      NULLの扱い
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q146" class="md-nav__link">
    <span class="md-ellipsis">
      Q146 パーティションを削除/追加/データ削除を行う方法を知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q146 パーティションを削除/追加/データ削除を行う方法を知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#range_1" class="md-nav__link">
    <span class="md-ellipsis">
      パーティションの削除(RANGE)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range_2" class="md-nav__link">
    <span class="md-ellipsis">
      パーティションの追加(RANGE)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range_3" class="md-nav__link">
    <span class="md-ellipsis">
      パーティションをマージする(RANGEの隣接するものを)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hash" class="md-nav__link">
    <span class="md-ellipsis">
      パーティションの削減/増加(HASH)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      パーティション自体を削除
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q147" class="md-nav__link">
    <span class="md-ellipsis">
      Q147 パーティションをテーブルと交換する方法を知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q147 パーティションをテーブルと交換する方法を知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-table-like" class="md-nav__link">
    <span class="md-ellipsis">
      補足(create table ... like)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      パーティションとテーブルを交換
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q148" class="md-nav__link">
    <span class="md-ellipsis">
      Q148 パーティションプルーニングについて知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q148 パーティションプルーニングについて知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      パーティショニングの大きな利点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      その他の利点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q149" class="md-nav__link">
    <span class="md-ellipsis">
      Q149 クラスタリングについて知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q149 クラスタリングについて知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      問題はストレージだけではない
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      クラスタリング
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q150" class="md-nav__link">
    <span class="md-ellipsis">
      Q150 シャーディングについて知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q150 シャーディングについて知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      シャーディング
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      シャーディング概要
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="17_bigdata.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(17:BigData)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="18_design.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(18:DB設計)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Web tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            Web tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7_1" >
        
          
          <label class="md-nav__link" for="__nav_1_7_1" id="__nav_1_7_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01 js lang
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7_1">
            <span class="md-nav__icon md-icon"></span>
            01 js lang
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/00_intro.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    はじめに
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/01_easy1_intro.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(初級1: JS概要)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/02_easy2_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(初級2:基本構文)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/03_easy3_if.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(初級3:条件分岐)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/04_easy4_loop.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(初級4:ループ)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/05_easy5_func.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(初級5：関数)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/06_easy6_quality.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(初級6:コード品質)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/07_other.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07 other
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/08_middle1_obj.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(中級1:Object)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/09_middle2_type.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(中級2:データ型)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/10_middle3_array.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(中級3:配列)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/11_middle4_iterator.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(中級4:イテレータ)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/12_middle5_mapset.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(中級5:map&set)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/13_middle6_destructuring.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(中級6:分割代入)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/14_middle7_date.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(中級7:日付)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/15_middle8_json.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(中級8:JSON)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/16_middle9_func2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(中級9:関数発展)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/17_middle10_property.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(中級10:プロパティ)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/18_hard1_prototype.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(上級1:prototype)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/19_hard2_class.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(上級2:クラス)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/20_hard3_error.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(上級3:Error)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/21_hard4_asynchronous.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(上級4:非同期)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/22_hard5_generator.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(上級5:generator)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/23_hard6_module.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(上級6:モジュール)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/24_hard7_proxy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(上級7:Proxy)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/25_hard8_other.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(上級8:その他)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/32_intermedia.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(中級)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/33_advanced.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(発展)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/35_dom2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(DOM2)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/01_js_lang/36_new.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(新機能)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7_2" >
        
          
          <label class="md-nav__link" for="__nav_1_7_2" id="__nav_1_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02 browser
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7_2">
            <span class="md-nav__icon md-icon"></span>
            02 browser
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/02_browser/26_browser1_dom.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(1:DOM概要)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/02_browser/27_browser2_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(2:基本)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/02_browser/28_browser3_document.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(3:DOMノード)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_tutorial/02_browser/29_browser4_event.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クイズ(4:イベント)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Practice
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Practice
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice/00_frontend.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    フロントエンド入門概要
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice/01_amplify.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Amplify + Reactアプリについて解説
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice/02_next.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Next.js(App Router)+Vercelを用いてWebアプリを作成する
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice/03_ga.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GoogleAnalyticsの導入について
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice/04_chakra.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChakraUI-tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice/05_tailwind.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tailwind入門
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../others/introduction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自動生成
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../others/material.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#q137" class="md-nav__link">
    <span class="md-ellipsis">
      Q137 パーティショニングについて知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q137 パーティショニングについて知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#db" class="md-nav__link">
    <span class="md-ellipsis">
      年々肥大化するDB
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db_1" class="md-nav__link">
    <span class="md-ellipsis">
      DBが大きくなりすぎるとどうなるか
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      パーティショニングとは
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      パーティショニング概要
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      同じでなければならないものと違っていてもいいもの
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-engine" class="md-nav__link">
    <span class="md-ellipsis">
      パーティショニング不可能なStorage Engine
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q138" class="md-nav__link">
    <span class="md-ellipsis">
      Q138 テーブルやインデックスの分割手法について知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q138 テーブルやインデックスの分割手法について知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      水平分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      垂直分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      グローバル/ローカルインデックス
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q139" class="md-nav__link">
    <span class="md-ellipsis">
      Q139 範囲分割を知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q139 範囲分割を知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      範囲分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      分割したテーブルのメタデータを見る
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter-table" class="md-nav__link">
    <span class="md-ellipsis">
      ALTER TABLEを使って特定のパーティションを更に分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      行を追加して確認してみる
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q140" class="md-nav__link">
    <span class="md-ellipsis">
      Q140 リスト分割について知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q140 リスト分割について知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      リスト分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      パーティション外の値を指定した場合
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ignore" class="md-nav__link">
    <span class="md-ellipsis">
      IGNOREを使って挿入した場合
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q141-range-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Q141 RANGE COLUMNSによって知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q141 RANGE COLUMNSによって知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#range" class="md-nav__link">
    <span class="md-ellipsis">
      RANGEとの差異
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      タプル単位での比較
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maxvalue" class="md-nav__link">
    <span class="md-ellipsis">
      MAXVALUEの使い方
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range-columns" class="md-nav__link">
    <span class="md-ellipsis">
      よくあるRANGE COLUMNSの例(時間型)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q142" class="md-nav__link">
    <span class="md-ellipsis">
      Q142 ハッシュ分割について知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q142 ハッシュ分割について知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      ハッシュ分割
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      ハッシュ分割の例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      列の種類が少ないと役に立たないわけ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q143" class="md-nav__link">
    <span class="md-ellipsis">
      Q143 複合分割について知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q143 複合分割について知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      異なる種類の分割方式を使う
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      制限
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      サブパーティショニングの例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1つのサブパーティションからデータを取得する
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q144" class="md-nav__link">
    <span class="md-ellipsis">
      Q144 その他の分割法について知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q144 その他の分割法について知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      線形ハッシュ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key" class="md-nav__link">
    <span class="md-ellipsis">
      KEY
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      線形キーを用いることもできる
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q145-null" class="md-nav__link">
    <span class="md-ellipsis">
      Q145 パーティショニングでNULLを用いたときの挙動を知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q145 パーティショニングでNULLを用いたときの挙動を知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#null" class="md-nav__link">
    <span class="md-ellipsis">
      NULLの扱い
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q146" class="md-nav__link">
    <span class="md-ellipsis">
      Q146 パーティションを削除/追加/データ削除を行う方法を知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q146 パーティションを削除/追加/データ削除を行う方法を知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#range_1" class="md-nav__link">
    <span class="md-ellipsis">
      パーティションの削除(RANGE)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range_2" class="md-nav__link">
    <span class="md-ellipsis">
      パーティションの追加(RANGE)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range_3" class="md-nav__link">
    <span class="md-ellipsis">
      パーティションをマージする(RANGEの隣接するものを)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hash" class="md-nav__link">
    <span class="md-ellipsis">
      パーティションの削減/増加(HASH)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      パーティション自体を削除
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q147" class="md-nav__link">
    <span class="md-ellipsis">
      Q147 パーティションをテーブルと交換する方法を知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q147 パーティションをテーブルと交換する方法を知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-table-like" class="md-nav__link">
    <span class="md-ellipsis">
      補足(create table ... like)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      パーティションとテーブルを交換
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q148" class="md-nav__link">
    <span class="md-ellipsis">
      Q148 パーティションプルーニングについて知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q148 パーティションプルーニングについて知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      パーティショニングの大きな利点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      その他の利点
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q149" class="md-nav__link">
    <span class="md-ellipsis">
      Q149 クラスタリングについて知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q149 クラスタリングについて知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      問題はストレージだけではない
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      クラスタリング
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q150" class="md-nav__link">
    <span class="md-ellipsis">
      Q150 シャーディングについて知っていますか?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Q150 シャーディングについて知っていますか?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      シャーディング
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      シャーディング概要
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="16partition">(クイズ16:Partition)</h1>
<h2 id="q137">Q137 パーティショニングについて知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="db">年々肥大化するDB</h3>
<pre class="highlight"><code class="language-text">・RDBの初期は、ハードディスクの容量もせいぜい数MB

・今はTB, PB, EB単位になりつつある

・クラウドのストレージに至っては、金を払えば
  実質無制限ともいえる</code></pre>
<h3 id="db_1">DBが大きくなりすぎるとどうなるか</h3>
<pre class="highlight"><code class="language-text">[以下のタスクが時間を要し、イライラしだす]

・フルテーブルスキャン
・Indexの作成と再構築
・データのアーカイブと削除
・Table/Indexの統計データの作成
・Tableの再配置
・DBのBackUp

[時間を要するとどうなるか]
・管理の時間は有限なので、管理しなくなる</code></pre>
<h3 id="_1">パーティショニングとは</h3>
<pre class="highlight"><code class="language-text">・大きなテーブルを分割すること
・最初に分割(パーティショニング)しておくのが簡単

・管理タスクは個々のパーティションで行ったり、
  同時に行ったりする

・タスクによってはパーティションをスキップ可能</code></pre>
<h3 id="_2">パーティショニング概要</h3>
<pre class="highlight"><code class="language-text">[概要]
・全てのDBサーバにはTable/Indexを分割する機能がある

・Tableを分割すると、2つ以上の
  テーブルパーティションが生成される

・それぞれのパーティションの定義は同じ

・分割しているので、重なっているデータ部分はない

[分割の例]
・売上データを月ごとに分割する
・売上データを、地域ごとに分割する

[分割した後のテーブル]
・仮想概念になる
・データを実際に含んでいるのはパーティション
・Indexもパーティション内のデータに基づき作成される

★ユーザ側はテーブルが分割されていることを意識しないまま
  使い続けることが可能</code></pre>
<h3 id="_3">同じでなければならないものと違っていてもいいもの</h3>
<pre class="highlight"><code class="language-text">[同じ]
・各パーティションのスキーマ定義（テーブルの列や型）は
  同じである必要がある

[違う]
・各パーティションが、物理的に異なるストレージの
  別の表領域に格納されていてもいい

・各パーティションを、異なる圧縮方式で圧縮してもいい

・一部のパーティションで、パーティションごとの専用の
  Indexであるローカルインデックスを削除可能

・一部のパーティションで、テーブルの統計データを凍結
  することが可能

・よりアクセスするパーティションをメモリに保管し
  アクセスしないデータをフラッシュストレージに格納する
  ことで、効率的にメモリを使うことが可能</code></pre>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<h3 id="storage-engine">パーティショニング不可能なStorage Engine</h3>
<pre class="highlight"><code class="language-text">・InnoDB等の基本的なEngineはパーティショニングを
  サポートしているが、していないものもある</code></pre>
</div>
</details>
<h2 id="q138">Q138 テーブルやインデックスの分割手法について知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="_4">水平分割</h3>
<pre class="highlight"><code class="language-text">・行全体を1つのパーティションに割り当てる

・パーティションキーを（多くの場合単一の）列に割り当て
  この列にパーティション関数を適用することで、
  各行を割り当てるパーティションを決定する</code></pre>
<h3 id="_5">垂直分割</h3>
<pre class="highlight"><code class="language-text">・行内の列を異なるパーティションに配置する

・全ての列が必要でない場合、
  頻繁に使用する列に対して応答速度を上げたい場合に使用</code></pre>
<h3 id="_6">グローバル/ローカルインデックス</h3>
<pre class="highlight"><code class="language-text">・分割したテーブルにインデックスが含まれている場合
  ⇒インデックスをそのまま使う（グローバルインデックス）

  ⇒インデックスを分割して、パーティションごとに
    専用のIndexを割り当てる（ローカルインデックス）

[ローカルインデックスの使いどころ]

・検索が各パーティション内で完結する場合
  ⇒他のパーティションは必要ないので
    ローカルインデックスがあるといい

・更にクエリでパーティションキーの値を指定する場合
  （一般的にパーティションキーが
  　ローカルインデックスになるので）

[グローバルインデックスの使いどころ]

・複数パーティションを縦断する検索を行う場合
  ⇒グローバルインデックスは、すべてのパーティション
  　にまたがるインデックスなので全てのパーティション
  　を調べる手間が省ける

・検索は単一パーティション内で完結するが、
　クエリでパーティションキーの値を使用しない場合
  ⇒パーティションキーによるインデックス付けが行えないので
    グローバルインデックスを使用する</code></pre>
<h3 id="_7">例</h3>
<pre class="highlight"><code class="language-sql">-- tableをsale_date列で分割し、
-- geo_region_cd列がglobal indexとする

-- 更に1つのパーティション内でクエリは実行されるとする

/*
パーティションキーが使われていないので、
global indexが使える
*/
select
  sum(amount)
from
  sales
where
  geo_region_cd = "US"
;

/*
パーティションキーが使われているので
local indexが使える
*/
select
  sum(amount)
from
  sales
where 
  sale_date 
  between "2007-01-01" and "2008-01-01"
;
</code></pre>
</details>
<h2 id="q139">Q139 範囲分割を知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="_8">範囲分割</h3>
<pre class="highlight"><code class="language-text">・もっとも一般的な分割手法
・日付の範囲でテーブルを分割するのが一般的

・範囲には、連続しているが、重複しないものを指定する
　そのために、values less than演算子が使われる

・less thanなので、
　2020を指定すれば、&lt; 2020になる
　2020年第1週までのデータを格納したいなら202002と指定する

・次第に増加していく必要があるので、
  1つ目で &lt; 2018とし、2つ目で &lt; 2017とする事はできない
  順番を間違えると、以下のようなエラーが出る
  ERROR 1493 (HY000): 
    VALUES LESS THAN value must be strictly 
    increasing for each partition

・MAXVALUESは明示的に指定されている最大値を超える
  全ての値を受け入れる
  ⇒つまり、範囲(RANGE)の場合、最後に指定する
</code></pre>
<pre class="highlight"><code class="language-sql">
/*
partition by &lt;分割方法&gt; 

⇒rangeの場合、
  整数値, または返り値が整数値になる物以外を指定できない
*/
create table sales
(
  sale_id int not null,
  cust_id int not null,
  store_id int not null,
  sale_date date not null,
  amount decimal(9,2)
)
partition by range (yearweek(sale_date))
(
  partition s1 values less than (202002),
  partition s2 values less than (202003),
  partition s3 values less than (202004),
  partition s4 values less than (202005),
  partition s5 values less than (202006),
  partition s999 values less than (maxvalue)
);

-- Query OK, 0 rows affected (0.039 sec)</code></pre>
<h3 id="_9">分割したテーブルのメタデータを見る</h3>
<pre class="highlight"><code class="language-sql">/*
paritition_method:
  パーティションのタイプ
partition_expression
  パーティション化関数の式
  HASH(c1 + c2)なら、c1 + c2が表示される
partition_description
  rangeの場合、values less than句
  lustの場合、values in句
table_rows
  ・パーティション内のテーブルの行数(推測)
partition_ordinal_position
  ・パーティションとして定義された順番
*/
select
  partition_name name,
  partition_method method,
  partition_expression,
  partition_description "詳細",
  table_rows row
from
  information_schema.partitions
where
  table_name = "sales"
order by
  partition_ordinal_position
;

/*
+------+--------+-------------------------+----------+-----+ 
| name | method | partition_expression    | 詳細     | row | 
+------+--------+-------------------------+----------+-----+ 
| s1   | RANGE  | yearweek(`sale_date`,0) | 202002   |   0 | 
| s2   | RANGE  | yearweek(`sale_date`,0) | 202003   |   0 | 
| s3   | RANGE  | yearweek(`sale_date`,0) | 202004   |   0 | 
| s4   | RANGE  | yearweek(`sale_date`,0) | 202005   |   0 | 
| s5   | RANGE  | yearweek(`sale_date`,0) | 202006   |   0 | 
| s999 | RANGE  | yearweek(`sale_date`,0) | MAXVALUE |   0 | 
+------+--------+-------------------------+----------+-----+ 
6 rows in set (0.001 sec)
*/</code></pre>
<h3 id="alter-table">ALTER TABLEを使って特定のパーティションを更に分割</h3>
<pre class="highlight"><code class="language-sql">alter table sales reorganize partition s999 into
(
  partition s6 values less than (202007),
  partition s7 values less than (202008),
  partition s999 values less than (MAXVALUE)
)
;
-- Query OK, 0 rows affected (0.113 sec)
-- Records: 0  Duplicates: 0  Warnings: 0</code></pre>
<pre class="highlight"><code class="language-sql">-- 再度定義を見る
select
  partition_name name,
  partition_method method,
  partition_description "&lt;"
from
  information_schema.partitions
where
  table_name = "sales"
order by
  partition_ordinal_position
;

/*
+------+--------+----------+
| name | method | &lt;        |
+------+--------+----------+
| s1   | RANGE  | 202002   |
| s2   | RANGE  | 202003   |
| s3   | RANGE  | 202004   |
| s4   | RANGE  | 202005   |
| s5   | RANGE  | 202006   |
| s6   | RANGE  | 202007   |
| s7   | RANGE  | 202008   |
| s999 | RANGE  | MAXVALUE |
+------+--------+----------+
8 rows in set (0.001 sec)
*/</code></pre>
<h3 id="_10">行を追加して確認してみる</h3>
<pre class="highlight"><code class="language-sql">-- 追加する際は、Tableを指定するだけでいい

insert into sales
values
(1, 1, 1, "2020-01-01", 5211.12),
(2, 3, 4, "2020-01-05", 2765.34),
(3, 5, 6, "2020-01-12", 2765.34)
;

-- 行数を見る
/*
01-01は2019の最終週, 01-05~11は202001
⇒つまり、どちらもS1に収まる

from句の後でpartition (partition_name)を指定すると、
特定のパーティションの値だけを取得できる
*/
select 
  concat("rows in S1 = ", count(*)) partition_rowcount
from sales partition (s1) union all
select
  concat("rows in S2 = ", count(*))
from sales partition (s2) union all
select
  concat("rows in S3 = ", count(*))
from sales partition (s3) union all
select
  concat("rows in S4 = ", count(*))
from sales partition (s4) union all
select
  concat("rows in S5 = ", count(*))
from sales partition (s5) union all
select
  concat("rows in S6 = ", count(*))
from sales partition (s6) union all
select
  concat("rows in S7 = ", count(*))
from sales partition (s7) union all
select
  concat("rows in S999 = ", count(*))
from sales partition (s999)
;

/*
+--------------------+
| partition_rowcount |
+--------------------+
| rows in S1 = 2     |
| rows in S2 = 1     |
| rows in S3 = 0     |
| rows in S4 = 0     |
| rows in S5 = 0     |
| rows in S6 = 0     |
| rows in S7 = 0     |
| rows in S999 = 0   |
+--------------------+
8 rows in set (0.002 sec)
*/

select * from sales partition(s1);
/*
+---------+---------+----------+------------+---------+      
| sale_id | cust_id | store_id | sale_date  | amount  |      
+---------+---------+----------+------------+---------+      
|       1 |       1 |        1 | 2020-01-01 | 5211.12 |      
|       2 |       3 |        4 | 2020-01-05 | 2765.34 |      
+---------+---------+----------+------------+---------+      
2 rows in set (0.001 sec)
*/</code></pre>
</details>
<h2 id="q140">Q140 リスト分割について知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="_11">リスト分割</h3>
<pre class="highlight"><code class="language-text">・partition-keyが列挙値の場合は、リスト分割が優れている
・MAXVALUEのような受け皿は定義できない</code></pre>
<pre class="highlight"><code class="language-text">[listとlist columnの違い]
partition by list
  ・values inに整数値しか指定できない

partition by list column
  ・values inに整数値以外も指定可能</code></pre>
<pre class="highlight"><code class="language-sql">create table sales
(
  sale_id int not null,
  cust_id int not null,
  store_id int not null,
  sale_date date not null,
  geo_region_cd varchar(6) not null,
  amount decimal(9,2)
)
partition by list columns (geo_region_cd)
(
  partition northamerica values in (
    "US_NE", "US_SE", "US_MW", "US_NW",
    "US_SW", "CAN", "MEX"
  ),
  partition europe values in ("EUR_E", "EUR_W"),
  partition asia values in ("CHN", "JPN", "IND")
);</code></pre>
<h3 id="_12">パーティション外の値を指定した場合</h3>
<pre class="highlight"><code class="language-sql">insert into sales
values
(1,1,1, "2001-01-01", "US_NE", 100),
(2,3,4, "2001-01-01", "CAN", 200),
(3,5,6, "2001-01-01", "KOR", 300)
;
-- ERROR 1526 (HY000): 
-- Table has no partition for value from column_list</code></pre>
<h3 id="ignore">IGNOREを使って挿入した場合</h3>
<pre class="highlight"><code class="language-sql">-- 一致しないパーティショニングカラム値が含まれる行は
--　挿入されず、エラーは報告されない

insert ignore into sales
values
(1,1,1, "2001-01-01", "US_NE", 100),
(2,3,4, "2001-01-01", "CAN", 200),
(3,5,6, "2001-01-01", "KOR", 300)
;

-- Query OK, 2 rows affected, 1 warning (0.003 sec)
-- Records: 3  Duplicates: 1  Warnings: 1

show warnings;

/*
+---------+------+---------------------------------------------------+
| Level   | Code | Message                                           |
+---------+------+---------------------------------------------------+
| Warning | 1526 | Table has no partition for value from column_list |
+---------+------+---------------------------------------------------+
*/

select sale_id, geo_region_cd from sales;
/*
+---------+---------------+
| sale_id | geo_region_cd |
+---------+---------------+
|       1 | US_NE         |
|       2 | CAN           |
+---------+---------------+
2 rows in set (0.001 sec)
*/

alter table sales
  reorganize partition asia into (
    partition asia values in ("CHN", "JPN", "IND", "KOR")
  )
;

insert into sales
values
(3,5,6, "2001-01-01", "KOR", 300)
;
-- Query OK, 1 row affected (0.003 sec)</code></pre>
</details>
<h2 id="q141-range-columns">Q141 RANGE COLUMNSによって知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="range">RANGEとの差異</h3>
<pre class="highlight"><code class="language-text">・range columnsは式を受け入れない
・range columnsは複数のカラムのリストを受け入れ
  タプル単位で比較する
・rabnge columnsには整数以外も指定可能
</code></pre>
<h3 id="_13">タプル単位での比較</h3>
<pre class="highlight"><code class="language-sql">select 
  row(5,10) &lt; row(5, 11),
  row(5, 11) &lt; row(5, 11)
;

/*
+------------------------+-------------------------+
| row(5,10) &lt; row(5, 11) | row(5, 11) &lt; row(5, 11) |
+------------------------+-------------------------+
|                      1 |                       0 |
+------------------------+-------------------------+
1 row in set (0.000 sec)
*/</code></pre>
<pre class="highlight"><code class="language-sql">/*
RANGEの項でも触れたが、指定する順番を間違えやすいので注意
⇒条件は、次第に増加していく必要がある
*/
create table rc1 (
  a int,
  b varchar(5)
)
partition by range columns (a, b) (
  partition 0a values less than (0, "b"),
  partition 0b values less than (0, "c"),
  partition 1a values less than (1, "b"),
  partition 9z values less than (maxvalue, maxvalue)
);

insert into rc1 values
(0, "a"),
(0, "bz"),
(1, "azfds"),
(4, "a")
;

select 
  concat("rows in 0a = ", count(*)) partition_count
from rc1 partition (0a) partition_count union all
select 
  concat("rows in 0b = ", count(*))
from rc1 partition (0b) partition_count union all
select 
  concat("rows in 1a = ", count(*))
from rc1 partition (1a) partition_count union all
select 
  concat("rows in 9z = ", count(*))
from rc1 partition (9z) partition_count
;

/*
+-----------------+
| partition_count |
+-----------------+
| rows in 0a = 1  |
| rows in 0b = 1  |
| rows in 1a = 1  |
| rows in 9z = 1  |
+-----------------+
4 rows in set (0.001 sec)
*/</code></pre>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<h3 id="maxvalue">MAXVALUEの使い方</h3>
<pre class="highlight"><code class="language-text">・複数のpartition定義の最初のカラムの制限値として、
  MAXVALUEを使うことはできない

  たとえば、以下のようなケースはダメ
  partition 0a values less than (MAXVALUE, "b")
  partition 0a values less than (MAXVALUE, MAXVALUE)</code></pre>
</div>
<h3 id="range-columns">よくあるRANGE COLUMNSの例(時間型)</h3>
<pre class="highlight"><code class="language-sql">create table e1 (
  employee_id int,
  employed_date date
)

partition by range columns (employed_date) (
  partition p0 values less than ("1970-01-01"),
  partition p1 values less than ("1980-01-01"),
  partition p2 values less than ("1990-01-01"),
  partition p3 values less than ("2000-01-01"),
  partition p4 values less than ("2010-01-01"),
  partition p5 values less than ("2020-01-01"),
  partition p6 values less than (maxvalue)
);

insert into e1 values
(1, "1969-01-01"),
(2, "1989-01-01"),
(3, "1998-01-01"),
(4, "2012-01-01"),
(5, "2023-01-01"),
(6, now())
;

select
  concat("rows in p0 = ", count(*)) partition_count
from e1 partition (p0) union all
select
  concat("rows in p1 = ", count(*)) partition_count
from e1 partition (p1) union all
select
  concat("rows in p2 = ", count(*)) partition_count
from e1 partition (p2) union all
select
  concat("rows in p3 = ", count(*)) partition_count
from e1 partition (p3) union all
select
  concat("rows in p4 = ", count(*)) partition_count
from e1 partition (p4) union all
select
  concat("rows in p5 = ", count(*)) partition_count
from e1 partition (p5) union all
select
  concat("rows in p6 = ", count(*)) partition_count
from e1 partition (p6)
;

/*
+-----------------+
| partition_count |
+-----------------+
| rows in p0 = 1  |
| rows in p1 = 0  |
| rows in p2 = 1  |
| rows in p3 = 1  |
| rows in p4 = 0  |
| rows in p5 = 1  |
| rows in p6 = 2  |
+-----------------+
7 rows in set (0.003 sec)
*/</code></pre>
</details>
<h2 id="q142">Q142 ハッシュ分割について知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="_14">ハッシュ分割</h3>
<pre class="highlight"><code class="language-text">・一連のパーティションに行を均等に分割する?
  ⇒均等と言っているのに、パーティションキーが必要な理由
    は以下でわかる。

・パーティションキーとして選択する列が、
  範囲分割やリスト分割に適していない場合に使用
  ⇒たとえば、列の種類が数種類に定まっている場合は
    リスト分割で済む。
  ⇒列の種類が多い方がいい（理由は後述）

・呼称の利用は、DBサーバが列の値に
  ハッシュ関数を適用するところから</code></pre>
<h3 id="_15">ハッシュ分割の例</h3>
<pre class="highlight"><code class="language-sql">/*
partition句を省いてみた
以下の場合、パーティション名はp0, p1, ...と割り振られる

なお、partitionを省略し、partitions 4の部分も省くと、
パーディション数はデフォルトの1になる
*/
create table t1 (
  col1 int,
  con2 char(5),
  col3 date
)
partition by hash (year(col3))
partitions 3
;

insert into t1 values
(1, "aaaaa", "2005-01-01"),
(1, "aaaab", "2006-01-01"),
(1, "aaaac", "2007-01-01"),
(1, "aaaad", "2005-01-01"),
 (1, "aaaaa", "2005-01-02"),
(1, "aaaae", "2005-01-01")
;

select concat("rows in p0 = ", count(*)) p_count
from t1 partition (p0) union all
select concat("rows in p1 = ", count(*)) p_count
from t1 partition (p1) union all
select concat("rows in p2 = ", count(*)) p_count
from t1 partition (p2)
;

/*
+----------------+
| p_count        |
+----------------+
| rows in p0 = 1 |
| rows in p1 = 4 |
| rows in p2 = 1 |
+----------------+
3 rows in set (0.001 sec)
*/
</code></pre>
<h3 id="_16">列の種類が少ないと役に立たないわけ</h3>
<pre class="highlight"><code class="language-text">・前項のp_countを見ると、1,4,1と等しく割り振られている
  わけではないことが分かる

・それはこのような計算が行われているからである</code></pre>
<pre class="highlight"><code class="language-sql">-- year(col) == 2005なら

select mod(year("2005-01-01"), 4) ans;

-- 1なのでp1に格納される
/*
+------+
| ans  |
+------+
|    1 |
+------+
1 row in set (0.000 sec)
*/</code></pre>
</details>
<h2 id="q143">Q143 複合分割について知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="_17">異なる種類の分割方式を使う</h3>
<pre class="highlight"><code class="language-text">・1つ目の分割方式でパーティションを定義し、
  2つ目の分割方式でサブパーティションを定義する</code></pre>
<h3 id="_18">制限</h3>
<pre class="highlight"><code class="language-text">・サブパーション化できるのは、RANGE/LISTで
  パーティション化されたテーブルだけ
  ⇒RANGE COLUMNS等も可能

・サブパーティショニングにはHASH/KEYが使用できる</code></pre>
<h3 id="_19">サブパーティショニングの例</h3>
<pre class="highlight"><code class="language-sql">/*
partition(3) * subpartition(2) = テーブルは6分割される
※以下の例では、サブパーティションのSUBPARTION句を
  省いている
  ⇒その場合、サブパーティション名は
    パーティション名 + SP0等になる
    (サブパーティション名もテーブル内で重複しては
    いけないので一意になるようにしている)
*/
create table ts(id int, purchased date)
  partition by range (year(purchased))
  subpartition by hash(to_days(purchased))
  subpartitions 2 
  (
    partition p0 values less than (1990),
    partition p1 values less than (2000),
    partition p2 values less than maxvalue
  )
  ;

  select
    partition_name,
    subpartition_name
  from information_schema.partitions 
  where table_name = "ts"
  order by
    partition_ordinal_position,
    subpartition_ordinal_position
  ;

  /*
+----------------+-------------------+
| partition_name | subpartition_name |
+----------------+-------------------+
| p0             | p0sp0             |
| p0             | p0sp1             |
| p1             | p1sp0             |
| p1             | p1sp1             |
| p2             | p2sp0             |
| p2             | p2sp1             |
+----------------+-------------------+
6 rows in set (0.001 sec)
  */


/*冗長な例*/
create table ts (id int , purchased date)
partition by range (year(purchased))
subpartition by hash (to_days(purchased))
-- subpartitions 2
(
  partition p0 values less than (1990) (
    subpartition s0,
    subpartition s1
  ),
  partition p1 values less than (maxvalue) (
    subpartition s2,
    subpartition s3
  )
)
;
</code></pre>
<h3 id="1">1つのサブパーティションからデータを取得する</h3>
<pre class="highlight"><code class="language-sql">create table ts(id int, purchased date)
  partition by range (year(purchased))
  subpartition by hash(to_days(purchased))
  subpartitions 2 
  (
    partition p0 values less than (1990),
    partition p1 values less than (2000),
    partition p2 values less than maxvalue
  )
  ;

insert into ts values
(1, "1989-01-01"),
(2, "1989-01-14"),
(3, "1989-01-27"),
(4, "1989-02-11"),
(5, "1989-03-14"),
(6, "1989-04-17"),
(7, "2001-05-04")
;

select * from ts partition (p0sp0);
/*
+------+------------+
| id   | purchased  |
+------+------------+
|    1 | 1989-01-01 |
|    3 | 1989-01-27 |
|    5 | 1989-03-14 |
|    6 | 1989-04-17 |
+------+------------+
4 rows in set (0.000 sec)
*/
</code></pre>
</details>
<h2 id="q144">Q144 その他の分割法について知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="_20">線形ハッシュ</h3>
<pre class="highlight"><code class="language-text">[hashとの差異]
・partitionの追加/削除/merge/分割の速度が上がる
・均等に配分される可能性は低い</code></pre>
<pre class="highlight"><code class="language-sql">create table t1 (
  id int not null,
  hired date not null default "1970-01-01"
)
partition by linear hash( year(hired))
partitions 4;</code></pre>
<h3 id="key">KEY</h3>
<pre class="highlight"><code class="language-text">・パーティショニングには、カラム名のみが指定可能
・カラム名を加工した式は不可
・ただし、指定できる列は整数値やNULL値に限定されない</code></pre>
<pre class="highlight"><code class="language-sql">/*
カラム名を指定しない場合、テーブルの主キーが使われる
⇒今回の場合、id
*/
create table k1 (
  id int not null primary key,
  name varchar(20)
)
partition by key()
partition 2;

/*
主キーがない &amp;&amp; 一意キーがある場合
⇒一意キーが使われる(NOT NULLでないと失敗する)
*/
create table k2 (
  id int not null,
  name varchar(20),
  unique key(id) not null
)
partition by key()
partitions 2;</code></pre>
<div class="admonition info">
<p class="admonition-title">Info</p>
<h3 id="_21">線形キーを用いることもできる</h3>
<pre class="highlight"><code class="language-sql">create table tk (
  col1 int not null,
  col2 char(5),
  col3 date
)
partition by linear key (col1)
partitions 3
;</code></pre>
</div>
</details>
<h2 id="q145-null">Q145 パーティショニングでNULLを用いたときの挙動を知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="null">NULLの扱い</h3>
<pre class="highlight"><code class="language-text">基本
  ・パーティショニング実装の際、NULLはNULLでない値より
    小さい値とみなされる

RANGE
  ・一番初めのパーティションに挿入される

LIST
  ・明示的にリストにNULLを指定する必要がある

HASH&amp;KEY
  ・今のところ不明
  ・公式には戻り値が0扱いになると書いてあったが、
    partitions 3にした例ではそうでないように思える</code></pre>
<pre class="highlight"><code class="language-sql">-- hash &amp;&amp; null

create table h1 (
  id int
)
partition by hash(id)
partitions 3;

-- 2,1,1になるはず
insert into h1 values
(0), (null), (1), (2);

select * 
from h1 partition (p2);

/*
+------+
| id   |
+------+
| NULL |
|    2 |
+------+
2 rows in set (0.001 sec)
*/</code></pre>
</details>
<h2 id="q146">Q146 パーティションを削除/追加/データ削除を行う方法を知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="range_1">パーティションの削除(RANGE)</h3>
<pre class="highlight"><code class="language-sql">-- パーティションの内のデータも消える

create table tr (id int, purchased date)
  partition by range columns (purchased)
  (
    partition p0 values less than ("1990-01-01"),
    partition p1 values less than ("1995-01-01"),
    partition p2 values less than ("2000-01-01"),
    partition p3 values less than (maxvalue)
  );

insert into tr values
(1, "1989-12-31"),
(2, "1999-12-31"),
(3, "1993-12-31"),
(4, "2004-12-31")
;

--　削除
alter table tr drop partition p2;
-- Query OK, 0 rows affected (0.042 sec)
-- Records: 0  Duplicates: 0  Warnings: 0

select * from tr;
-- 行が削除されても報告されていないことが分かる
/*
+------+------------+
| id   | purchased  |
+------+------------+
|    1 | 1989-12-31 |
|    3 | 1993-12-31 |
|    4 | 2004-12-31 |
+------+------------+
3 rows in set (0.001 sec)
*/

-- dataを失いたくないなら
alter table tr reorganize partition p3 into (
  partition p1_1 values less than ("2005-01-01"),
  partition p1_2 values less than (maxvalue)
) ;

-- 実際にはp1_1, p1_2ではなく、p3とp4にしたかった
alter table tr reorganize partition p1_1 into (
  partition p3 values less than ("2005-01-01")
);

alter table tr reorganize partition p1_2 into (
  partition p4 values less than (maxvalue)
);

select * from tr partition (p3);
/*
+------+------------+
| id   | purchased  |
+------+------------+
|    4 | 2004-12-31 |
+------+------------+
1 row in set (0.001 sec)
*/</code></pre>
<h3 id="range_2">パーティションの追加(RANGE)</h3>
<pre class="highlight"><code class="language-sql">create table k1 (
  id int,
  name varchar(10)
);
-- 無い状態で追加
alter table k1 
partition by range columns (name) (
  partition p0 values less than ("a"),
  partition p1 values less than ("b"),
  partition p2 values less than ("c")
);

insert into k1 values
(1, "8"),
(2, "abc"),
(3, "bneko")
;

-- 範囲の末尾に追加するときはaddが使える
-- 末尾以外はreorganize partition ... intoがよさそう
alter table k1
add partition (
  partition p3 values less than maxvalue
);</code></pre>
<h3 id="range_3">パーティションをマージする(RANGEの隣接するものを)</h3>
<pre class="highlight"><code class="language-sql">alter table k1
reorganize partition p0, p1, p2 into (
  partition p0 values less than ("c")
);

select * 
from k1 partition (p0);

/*
+------+-------+
| id   | name  |
+------+-------+
|    1 | 8     |
|    2 | abc   |
|    3 | bneko |
+------+-------+
3 rows in set (0.001 sec)
*/</code></pre>
<h3 id="hash">パーティションの削減/増加(HASH)</h3>
<pre class="highlight"><code class="language-sql">create table h1 (
  id int
)

partition by hash(id)
partitions 10;

-- 削減(合体) 4つ分減らす
-- hash, key, linear (hash/key)で機能する
alter table h1 coalesce partition 4;

-- 追加(4つ分増やす)
alter table h1 add partition partitions 4;</code></pre>
<h3 id="_22">パーティション自体を削除</h3>
<pre class="highlight"><code class="language-sql">alter table h1 remove partitioning;</code></pre>
</details>
<h2 id="q147">Q147 パーティションをテーブルと交換する方法を知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="create-table-like">補足(create table ... like)</h3>
<pre class="highlight"><code class="language-sql">-- 元のテーブルに定義されているカラム属性やインデックス
-- を引き継いだ空のテーブルを作成できる

create table e (
  id int not null,
  fname varchar(20),
  lname varchar(20)
)
partition by range (id) (
  partition p0 values less than (50),
  partition p1 values less than (100),
  partition p2 values less than (150),
  partition p3 values less than (maxvalue)
);

insert into e values
(1000, "NekoMoti", "Taro"),
(320, "Nekogasira", "Zyuzaburo"),
(24, "Nekota", "Nekokiti"),
(2005, "Nekozyarasi", "Musyanosuke")
;


-- コピーを作成
create table e2 like e;

-- コピーからパーティションを削除
alter table e2 remove partitioning;
</code></pre>
<h3 id="_23">パーティションとテーブルを交換</h3>
<pre class="highlight"><code class="language-sql">select * from e partition(p0);
/*
+----+--------+----------+
| id | fname  | lname    |
+----+--------+----------+
| 24 | Nekota | Nekokiti |
+----+--------+----------+
1 row in set (0.000 sec)
*/


alter table e
exchange partition p0
with table e2;
-- Query OK, 0 rows affected (0.024 sec)

/*中身を入れ替えている*/
select * from e partition(p0);
-- Empty set (0.000 sec)

select * from e2;
/*
+----+--------+----------+
| id | fname  | lname    |
+----+--------+----------+
| 24 | Nekota | Nekokiti |
+----+--------+----------+
1 row in set (0.001 sec)
*/</code></pre>
</details>
<h2 id="q148">Q148 パーティションプルーニングについて知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="_24">パーティショニングの大きな利点</h3>
<pre class="highlight"><code class="language-text">・パーティション分割されたテーブルがあるとする

・ここで、パーティションキー列に基づく条件を含む
  クエリを実行する

・するとDBサーバはクエリに関連するデータを含んでいない
  パーティションを考慮の対象から外す

⇒検索を制限することで、すべてのパーティションをスキャン
  するより、検索時間を減らすことができる
  これを、「プルーニング」という

・プルーニングは、等号や、比較、INやBetweenなどで
  使うことができる</code></pre>
<pre class="highlight"><code class="language-sql">--プルーニングの例

/*
例ではRangeを用いているが、Listでも可能
等号の場合、HashやKeyでもプルーニングを使える

*/

create table t1 (
  fname varchar(50) not null,
  lname varchar(50) not null,
  region_code int unsigned not null,
  dob date not null
)

partition by range(region_code) (
  partition p0 values less than (64),
  partition p1 values less than (128),
  partition p2 values less than (192),
  partition p3 values less than maxvalue
);

insert into t1 
values
("Abraham", "Lincoln", 111, "1809-02-12"),
("Buster", "Keaton", 111, "1895-10-04"),
("Robert", "Nelson", 156, "1794-08-08"),
("Charles", "Chaplin", 112, "1889-04-16")
;

-- partionkeyであるregion_codeを含んでいる
-- そのため、p2だけを探せている
select fname, lname, region_code, dob
from t1
where region_code &gt; 150 and region_code &lt; 160
;

/*
+--------+--------+-------------+------------+
| fname  | lname  | region_code | dob        |
+--------+--------+-------------+------------+
| Robert | Nelson |         156 | 1794-08-08 |
+--------+--------+-------------+------------+
1 row in set (0.001 sec)
*/</code></pre>
<h3 id="_25">その他の利点</h3>
<pre class="highlight"><code class="language-text">・作成日時などでテーブルを分けることで、
  一定以上経過したデータを簡単に削除できる</code></pre>
</details>
<h2 id="q149">Q149 クラスタリングについて知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="_26">問題はストレージだけではない</h3>
<pre class="highlight"><code class="language-text">・パーティショニングを駆使することで、1つのRDBに
  多くのデータを格納できる

[残る問題点]
・数千、数万の同時ユーザに対処する
・数万件ものレポートを作成する必要がある
⇒1台のサーバでは不十分</code></pre>
<h3 id="_27">クラスタリング</h3>
<pre class="highlight"><code class="language-text">・複数のサーバを1つのDBとして機能させる

[以下のことが可能]
・クラスタ内の全てのサーバが
  全てのディスクにアクセス可能

・特定のサーバのcacheに、
  クラスタ内の他のサーバからアクセス可能

・障害が発生した場合、クラスタ内の
  別のDBサーバにフェイルオーバーする

[クラスタリングに使われるクラウドサービス]
・現在は、AWSやGoogle Cloudなどの
  クラウドの機能を用いることが多い

・オートスケーリング機能があるので、
  サーバのリソースを無駄にすることも少なくなった

・たとえばAWSのAuroraの場合、登録処理は
  プライマリDBインスタンスを用い、
  Selectなどの情報参照等なら
  Auroraレプリカを用いて、負荷を分散するなどの
  処理も容易である

・AuroraはMySQLに対応しているので、
  簡単に試すことができるだろう
（つい最近v1を切り捨てて、常に0.5キャパシティ使う
ようになったため名称と実体がつり合っていない
Aurora Serverlessなんてものもあるみたいだしね）</code></pre>
</details>
<h2 id="q150">Q150 シャーディングについて知っていますか?</h2>
<details class="success">
<summary>Success</summary>
<h3 id="_28">シャーディング</h3>
<pre class="highlight"><code class="language-text">パーティショニング
  ⇒個々のテーブルを分割する

シャーディング(sharding)
  ⇒データを複数のDB（シャード）に分割する
  ⇒ただし、パーティショニングより複雑</code></pre>
<h3 id="_29">シャーディング概要</h3>
<pre class="highlight"><code class="language-text">・シャーディングキーを選択する
  ⇒接続先のDBを決めるために使用

・個々の行は1つのシャードに割り当てられる

・スキーマを変更したい場合、
  変更をすべてのシャードに反映させなければならない

・複数のシャードに格納されているデータにアクセスしたい時
  複数のDBに対してクエリを実行したり
  複数のDBにわたってトランザクションを実装する</code></pre>
<pre class="highlight"><code class="language-text">[メリット]
  ・シャード単位で小さなデータセットを並行処理できる
    ⇒応答速度の改善

  ・DBのスケールの問題に対応できる

  ・シャーディングでは同じ情報のコピーは作成されないが
    レプリケーションと組み合わせることで
    高可用性を実現可能

[デメリット]
・運用が難しい。複雑
・マシンが増えればコストもかかる
・メンテナンスコストも忘れてはならない</code></pre>
</details>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  ページトップへ戻る
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2024 Toraneko0101
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.tabs.link", "navigation.top"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../javascripts/tablesort.js"></script>
      
        <script src="../../javascripts/custom.js"></script>
      
        <script src="../../javascripts/prism.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>